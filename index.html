<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KTH TRINITY Payment</title>
<style>
:root {
  --brand:#111; --accent:#ffd400; --bg:#fafafa; --card:#fff; --line:#ddd;
}
*{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;}
body{margin:0;background:var(--bg);color:#111;display:flex;flex-direction:column;min-height:100vh;}
header{display:flex;align-items:center;justify-content:center;padding:14px;font-weight:700;font-size:18px;background:#fff;border-bottom:1px solid #eee;}
.info{display:flex;flex-wrap:wrap;justify-content:center;gap:14px;font-size:13px;color:#555;padding:10px;background:#fafafa;border-bottom:1px solid #eee;}
.wrap{flex:1;padding:16px;max-width:720px;margin:auto;}
.card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:16px;margin-bottom:12px;box-shadow:0 2px 6px rgba(0,0,0,0.05);}
.card h3{margin:0 0 6px;font-size:16px;font-weight:700;}
.card p{margin:0 0 10px;font-size:13px;color:#555;}
.button{display:inline-block;background:var(--accent);color:#111;border:none;padding:10px 16px;border-radius:8px;font-weight:600;}
.button:active{opacity:0.8;}
.plus{font-size:28px;background:var(--accent);color:#111;width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;position:fixed;bottom:80px;right:20px;box-shadow:0 4px 10px rgba(0,0,0,0.15);}
.bottom-nav{display:flex;justify-content:space-around;align-items:center;padding:12px 0;border-top:1px solid #ddd;background:#fff;font-size:13px;}
.bottom-nav div{display:flex;flex-direction:column;align-items:center;color:#555;}
.bottom-nav .active{color:#111;font-weight:600;}
.list-item{border:1px solid #eee;background:#fff;border-radius:10px;padding:10px 12px;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center;}
.list-item strong{font-size:14px;}
.list-item small{color:#666;font-size:12px;}
</style>
</head>
<body>

<header>KTH TRINITY Payment</header>

<div class="info">
  <div>📱 상대방 동의 불필요</div>
  <div>💸 서비스 이용료 4%</div>
  <div>⚡ 무료 번개송금</div>
  <div>📅 주말/공휴일 운영</div>
</div>

<div class="wrap">
  <div class="card">
    <h3>거래 등록</h3>
    <p>해외 생활비, 월세, 관리비 등을 카드로 간편 결제하세요.</p>
    <button class="button" onclick="location.href='form.html'">등록하기</button>
  </div>

  <h3 style="margin:16px 0 8px;">거래 내역</h3>
  <div id="list"></div>
</div>

<div class="plus" onclick="location.href='form.html'">＋</div>

<div class="bottom-nav">
  <div class="active">🏠 홈</div>
  <div onclick="location.href='form.html'">🧾 거래등록</div>
  <div onclick="location.href='proof.html'">📄 증빙</div>
  <div>📘 가이드</div>
  <div>💬 문의</div>
</div>

<script>
const list = document.getElementById("list");
let data = JSON.parse(localStorage.getItem("kth_transactions") || "[]");

function renderList() {
  list.innerHTML = "";
  if (data.length === 0) {
    list.innerHTML = "<p style='color:#777;font-size:13px;'>등록된 거래가 없습니다.</p>";
  } else {
    data.forEach((t,i)=>{
      const div=document.createElement("div");
      div.className="list-item";
      div.innerHTML=`<div><strong>${t.name}</strong><br><small>${t.memo||t.type}</small></div>
                     <div><small>${t.amount_thb} THB</small><br><small>(${t.amount_krw} KRW)</small></div>`;
      div.onclick=()=>location.href="proof.html";
      list.appendChild(div);
    });
  }
}
renderList();
</script>

</body>
</html>
